# ExpenSync - System Design Documentation

## 🏗️ System Architecture Overview

ExpenSync is a modern, full-stack personal finance management platform built with a microservices-inspired architecture using Next.js, featuring AI-powered insights, automated background processing, and enterprise-grade security.

## 📊 High-Level System Architecture

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                                   EXPENSYNC SYSTEM                                   │
│                              Personal Finance Platform                               │
└─────────────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────────────┐
│                                🎨 FRONTEND LAYER                                    │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │   Next.js   │  │    Clerk    │  │  Security   │  │ React Hook  │  │  Recharts   │ │
│  │ App Router  │  │    Auth     │  │ Middleware  │  │ Form + Zod  │  │  Analytics  │ │
│  │   React 19  │  │             │  │             │  │             │  │             │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              🧩 COMPONENT LAYER                                     │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │  Dashboard  │  │Transaction  │  │   Account   │  │   Budget    │  │   Receipt   │ │
│  │ Components  │  │ Components  │  │ Components  │  │ Components  │  │   Scanner   │ │
│  │             │  │             │  │             │  │             │  │             │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                               🔌 API LAYER                                          │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │   Server    │  │     API     │  │   Inngest   │  │    Seed     │  │ Validation  │ │
│  │   Actions   │  │   Routes    │  │  Webhooks   │  │  Data API   │  │ Middleware  │ │
│  │             │  │             │  │             │  │             │  │             │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                            💼 BUSINESS LOGIC LAYER                                  │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │Transaction  │  │   Budget    │  │  Dashboard  │  │   Account   │  │    Email    │ │
│  │    Logic    │  │    Logic    │  │    Logic    │  │    Logic    │  │    Logic    │ │
│  │             │  │             │  │             │  │             │  │             │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          🤖 BACKGROUND PROCESSING                                   │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │
│  │   Inngest   │  │  Recurring  │  │   Monthly   │  │   Budget    │  │ AI Financial│ │
│  │ Job Queue   │  │Transactions │  │   Reports   │  │   Alerts    │  │   Insights  │ │
│  │             │  │             │  │             │  │             │  │             │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘ │
│                                                                      ┌─────────────┐ │
│                                                                      │  Receipt    │ │
│                                                                      │  OCR AI     │ │
│                                                                      │             │ │
│                                                                      └─────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                            ☁️ EXTERNAL SERVICES                                     │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │
│  │    Clerk    │  │   Google    │  │   Resend    │  │   Arcjet    │                │
│  │ Auth Service│  │  Gemini AI  │  │Email Service│  │  Security   │                │
│  │             │  │             │  │             │  │             │                │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                             🗄️ DATABASE LAYER                                       │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐                            ┌─────────────────────────────────────┐ │
│  │   Prisma    │ ◄─────────────────────────► │        PostgreSQL Database         │ │
│  │     ORM     │                            │                                     │ │
│  │             │                            │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   │ │
│  └─────────────┘                            │  │User │ │Acct │ │Trans│ │Budg │   │ │
│                                             │  │Model│ │Model│ │Model│ │Model│   │ │
│                                             │  └─────┘ └─────┘ └─────┘ └─────┘   │ │
│                                             └─────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                           │
                                           ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                           🛡️ SECURITY & MONITORING                                  │
├─────────────────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                │
│  │    Rate     │  │     Bot     │  │  Security   │  │   Schema    │                │
│  │  Limiting   │  │  Detection  │  │   Shield    │  │ Validation  │                │
│  │             │  │             │  │             │  │             │                │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 Data Flow Architecture

### 1. User Authentication Flow
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│  User   │───►│  Clerk  │───►│Middleware│───►│Protected│
│ Request │    │  Auth   │    │ Security │    │ Routes  │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
```

### 2. Transaction Processing Flow
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│  Form   │───►│Validation│───►│ Server  │───►│Business │───►│Database │
│Submission│    │ (Zod)   │    │ Action  │    │ Logic   │    │ Update  │
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
                                                                   │
                                                                   ▼
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│   UI    │◄───│ Cache   │◄───│Response │◄───│Balance  │◄───│Account  │
│ Update  │    │Revalidate│    │ Return  │    │ Update  │    │ Update  │
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
```

### 3. Background Job Processing Flow
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│Scheduled│───►│ Inngest │───►│Background│───►│Database │───►│ Email   │
│ Trigger │    │  Queue  │    │Function │    │ Update  │    │Notification│
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
```

### 4. AI-Powered Receipt Processing
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ Receipt │───►│  File   │───►│ Google  │───►│   OCR   │───►│Transaction│
│ Upload  │    │ Upload  │    │ Gemini  │    │Processing│    │ Creation │
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
```

## 🏛️ Detailed Component Architecture

### Frontend Architecture
```
┌─────────────────────────────────────────────────────────────┐
│                    FRONTEND COMPONENTS                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────┐        ┌─────────────────┐             │
│  │   DASHBOARD     │        │   TRANSACTIONS   │             │
│  │                 │        │                 │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Account Card │ │        │ │Create Form  │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Budget Chart │ │        │ │Table View   │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Trans Overview│ │        │ │Receipt Scan │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  └─────────────────┘        └─────────────────┘             │
│                                                             │
│  ┌─────────────────┐        ┌─────────────────┐             │
│  │    ACCOUNTS     │        │     BUDGETS     │             │
│  │                 │        │                 │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Account List │ │        │ │Budget Form  │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Balance View │ │        │ │Progress Bar │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  │ ┌─────────────┐ │        │ ┌─────────────┐ │             │
│  │ │Create Modal │ │        │ │Alert Config │ │             │
│  │ └─────────────┘ │        │ └─────────────┘ │             │
│  └─────────────────┘        └─────────────────┘             │
└─────────────────────────────────────────────────────────────┘
```

### Backend Services Architecture
```
┌─────────────────────────────────────────────────────────────┐
│                   BACKEND SERVICES                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │              SERVER ACTIONS LAYER                      │ │
│  │                                                         │ │
│  │ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐        │ │
│  │ │Transaction  │ │   Account   │ │   Budget    │        │ │
│  │ │   Actions   │ │   Actions   │ │   Actions   │        │ │
│  │ └─────────────┘ └─────────────┘ └─────────────┘        │ │
│  │ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐        │ │
│  │ │ Dashboard   │ │    Email    │ │    Seed     │        │ │
│  │ │   Actions   │ │   Actions   │ │   Actions   │        │ │
│  │ └─────────────┘ └─────────────┘ └─────────────┘        │ │
│  └─────────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │               API ROUTES LAYER                          │ │
│  │                                                         │ │
│  │ ┌─────────────┐ ┌─────────────┐                        │ │
│  │ │   Inngest   │ │    Seed     │                        │ │
│  │ │ Webhooks    │ │ Data Route  │                        │ │
│  │ │/api/inngest │ │ /api/seed   │                        │ │
│  │ └─────────────┘ └─────────────┘                        │ │
│  └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### Database Schema Architecture
```
┌─────────────────────────────────────────────────────────────┐
│                   DATABASE SCHEMA                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │    USER     │────►│   ACCOUNT   │────►│TRANSACTION  │   │
│  │             │     │             │     │             │   │
│  │ id (UUID)   │     │ id (UUID)   │     │ id (UUID)   │   │
│  │ clerkUserId │     │ name        │     │ type        │   │
│  │ email       │     │ type        │     │ amount      │   │
│  │ name        │     │ balance     │     │ description │   │
│  │ imageUrl    │     │ isDefault   │     │ category    │   │
│  │ createdAt   │     │ userId      │     │ isRecurring │   │
│  │ updatedAt   │     │ createdAt   │     │ userId      │   │
│  └─────────────┘     │ updatedAt   │     │ accountId   │   │
│                      └─────────────┘     │ createdAt   │   │
│  ┌─────────────┐                         │ updatedAt   │   │
│  │   BUDGET    │                         └─────────────┘   │
│  │             │                                           │
│  │ id (UUID)   │                                           │
│  │ amount      │                                           │
│  │ lastAlertSent│                                          │
│  │ userId      │                                           │
│  │ createdAt   │                                           │
│  │ updatedAt   │                                           │
│  └─────────────┘                                           │
│                                                             │
│  RELATIONSHIPS:                                             │
│  • User (1) ──→ (N) Account                                │
│  • User (1) ──→ (N) Transaction                            │
│  • User (1) ──→ (1) Budget                                 │
│  • Account (1) ──→ (N) Transaction                         │
└─────────────────────────────────────────────────────────────┘
```

## 🔧 Technology Stack Details

### Frontend Stack
```
┌─────────────────────────────────────────────────────────────┐
│                   FRONTEND TECHNOLOGIES                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  FRAMEWORK & RUNTIME                                        │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │   Next.js   │ │   React     │ │   Node.js   │           │
│  │     15      │ │     19      │ │   18.17+    │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  STYLING & UI                                               │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │ Tailwind    │ │  shadcn/ui  │ │  Lucide     │           │
│  │    CSS      │ │ Components  │ │    Icons    │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  FORMS & VALIDATION                                         │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │React Hook   │ │     Zod     │                           │
│  │    Form     │ │ Validation  │                           │
│  └─────────────┘ └─────────────┘                           │
│                                                             │
│  DATA VISUALIZATION                                         │
│  ┌─────────────┐                                           │
│  │  Recharts   │                                           │
│  │   Charts    │                                           │
│  └─────────────┘                                           │
└─────────────────────────────────────────────────────────────┘
```

### Backend Stack
```
┌─────────────────────────────────────────────────────────────┐
│                   BACKEND TECHNOLOGIES                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  DATABASE & ORM                                             │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │PostgreSQL   │ │   Prisma    │                           │
│  │  Database   │ │     ORM     │                           │
│  └─────────────┘ └─────────────┘                           │
│                                                             │
│  BACKGROUND JOBS                                            │
│  ┌─────────────┐                                           │
│  │   Inngest   │                                           │
│  │ Job Queue   │                                           │
│  └─────────────┘                                           │
│                                                             │
│  EMAIL SERVICE                                              │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │   Resend    │ │React Email  │                           │
│  │   API       │ │ Templates   │                           │
│  └─────────────┘ └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

### External Services Stack
```
┌─────────────────────────────────────────────────────────────┐
│                  EXTERNAL SERVICES                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  AUTHENTICATION                                             │
│  ┌─────────────┐                                           │
│  │    Clerk    │                                           │
│  │ Auth Service│                                           │
│  └─────────────┘                                           │
│                                                             │
│  ARTIFICIAL INTELLIGENCE                                    │
│  ┌─────────────┐                                           │
│  │   Google    │                                           │
│  │ Gemini AI   │                                           │
│  └─────────────┘                                           │
│                                                             │
│  SECURITY & PROTECTION                                      │
│  ┌─────────────┐                                           │
│  │   Arcjet    │                                           │
│  │  Security   │                                           │
│  └─────────────┘                                           │
└─────────────────────────────────────────────────────────────┘
```

## 🔒 Security Architecture

### Multi-Layer Security Approach
```
┌─────────────────────────────────────────────────────────────┐
│                   SECURITY LAYERS                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  LAYER 1: NETWORK SECURITY                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │    HTTPS    │ │    CORS     │ │  Firewall   │           │
│  │ Encryption  │ │ Protection  │ │ Protection  │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  LAYER 2: APPLICATION SECURITY                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │    Rate     │ │     Bot     │ │  Request    │           │
│  │  Limiting   │ │  Detection  │ │  Shielding  │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  LAYER 3: AUTHENTICATION & AUTHORIZATION                   │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │    Clerk    │ │   Route     │ │    JWT      │           │
│  │    Auth     │ │ Protection  │ │   Tokens    │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  LAYER 4: DATA SECURITY                                    │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │    Input    │ │   Prisma    │ │   Data      │           │
│  │ Validation  │ │   ORM       │ │Encryption   │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 Performance Architecture

### Optimization Strategies
```
┌─────────────────────────────────────────────────────────────┐
│                 PERFORMANCE OPTIMIZATIONS                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  FRONTEND OPTIMIZATIONS                                     │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │   Server    │ │   Dynamic   │ │    Image    │           │
│  │ Components  │ │   Imports   │ │Optimization │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  BACKEND OPTIMIZATIONS                                      │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │  Database   │ │ Connection  │ │   React     │           │
│  │  Indexing   │ │   Pooling   │ │   Cache     │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  PROCESSING OPTIMIZATIONS                                   │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │ Background  │ │   Queue     │                           │
│  │    Jobs     │ │Processing   │                           │
│  └─────────────┘ └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

## 📈 Scalability Architecture

### Horizontal Scaling Strategy
```
┌─────────────────────────────────────────────────────────────┐
│                    SCALING STRATEGY                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  APPLICATION SCALING                                        │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │   Vercel    │ │    CDN      │ │  Serverless │           │
│  │   Deploy    │ │ Distribution│ │  Functions  │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  DATABASE SCALING                                           │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │ Connection  │ │   Read      │ │   Index     │           │
│  │   Pooling   │ │  Replicas   │ │Optimization │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  PROCESSING SCALING                                         │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │   Inngest   │ │  Background │                           │
│  │   Queue     │ │  Workers    │                           │
│  └─────────────┘ └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

## 🔄 Data Flow Patterns

### Request-Response Pattern
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ Client  │───►│Middleware│───►│ Server  │───►│Business │───►│Database │
│ Request │    │Security │    │ Action  │    │ Logic   │    │Operation│
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
     ▲                                                             │
     │                                                             ▼
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│   UI    │◄───│ Cache   │◄───│Response │◄───│ Data    │◄───│Database │
│ Update  │    │Invalidate│    │ Return  │    │Transform│    │Response │
└─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘
```

### Background Job Pattern
```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│Scheduled│───►│ Trigger │───►│ Inngest │───►│ Worker  │
│ Event   │    │Function │    │  Queue  │    │Function │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
                                                   │
                                                   ▼
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│ Email   │◄───│External │◄───│Database │◄───│Business │
│Notification│  │Services │    │ Update  │    │ Logic   │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
```

## 🎯 Key Features Implementation

### Transaction Management Flow
```
┌─────────────────────────────────────────────────────────────┐
│                TRANSACTION MANAGEMENT                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  MANUAL ENTRY                RECEIPT SCANNING               │
│  ┌─────────────┐             ┌─────────────┐               │
│  │    Form     │             │   Upload    │               │
│  │ Validation  │             │   Receipt   │               │
│  └─────────────┘             └─────────────┘               │
│        │                           │                       │
│        ▼                           ▼                       │
│  ┌─────────────┐             ┌─────────────┐               │
│  │   Server    │             │   Google    │               │
│  │   Action    │             │ Gemini AI   │               │
│  └─────────────┘             └─────────────┘               │
│        │                           │                       │
│        └─────────┬─────────────────┘                       │
│                  ▼                                         │
│            ┌─────────────┐                                 │
│            │ Transaction │                                 │
│            │  Creation   │                                 │
│            └─────────────┘                                 │
│                  │                                         │
│                  ▼                                         │
│            ┌─────────────┐                                 │
│            │   Balance   │                                 │
│            │   Update    │                                 │
│            └─────────────┘                                 │
└─────────────────────────────────────────────────────────────┘
```

### Recurring Transaction Flow
```
┌─────────────────────────────────────────────────────────────┐
│              RECURRING TRANSACTIONS                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Cron      │───►│   Trigger   │───►│   Inngest   │     │
│  │ Scheduler   │    │  Function   │    │    Queue    │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
│                                               │             │
│                                               ▼             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   Email     │◄───│   Balance   │◄───│ Transaction │     │
│  │Notification │    │   Update    │    │  Creation   │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

## 📊 Monitoring & Analytics

### System Monitoring
```
┌─────────────────────────────────────────────────────────────┐
│                MONITORING & ANALYTICS                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  APPLICATION MONITORING                                     │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐           │
│  │   Vercel    │ │   Prisma    │ │   Inngest   │           │
│  │ Analytics   │ │   Metrics   │ │ Job Status  │           │
│  └─────────────┘ └─────────────┘ └─────────────┘           │
│                                                             │
│  USER ANALYTICS                                             │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │ Dashboard   │ │ Financial   │                           │
│  │  Metrics    │ │  Reports    │                           │
│  └─────────────┘ └─────────────┘                           │
│                                                             │
│  ERROR TRACKING                                             │
│  ┌─────────────┐ ┌─────────────┐                           │
│  │   Console   │ │    Email    │                           │
│  │   Logging   │ │   Alerts    │                           │
│  └─────────────┘ └─────────────┘                           │
└─────────────────────────────────────────────────────────────┘
```

## 🚀 Deployment Architecture

### Production Deployment
```
┌─────────────────────────────────────────────────────────────┐
│                 DEPLOYMENT PIPELINE                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │   GitHub    │───►│   Vercel    │───►│ Production  │     │
│  │ Repository  │    │    Build    │    │ Environment │     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
│                                               │             │
│                                               ▼             │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐     │
│  │  Database   │    │  External   │    │    CDN      │     │
│  │  Hosting    │    │  Services   │    │ Distribution│     │
│  └─────────────┘    └─────────────┘    └─────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 📝 Summary

ExpenSync represents a modern, enterprise-grade personal finance management platform that leverages cutting-edge technologies to provide users with intelligent financial insights, automated transaction processing, and robust security features. The architecture is designed for scalability, maintainability, and performance, making it suitable for both individual users and potential enterprise deployment.

The system's modular design, comprehensive security layers, and AI-powered features position it as a competitive solution in the fintech space, with clear pathways for future enhancements and scaling.